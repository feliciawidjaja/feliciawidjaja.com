<!DOCTYPE html>
<html lang="en">
<body>

   <p>How many buttons to create?</p>
   <input type="text" id="input"><input type="submit" value="Go!" id="go">
   <p id="errormessage"></p>


   <script>

       let width = window.innerWidth
           || document.documentElement.clientWidth
           || document.body.clientWidth;
       let height = window.innerHeight
           || document.documentElement.clientHeight
           || document.body.clientHeight;

       let buttonarray = [];


       function button(color, width, height, top, left, order) {
           this.order = order;
           this.button = document.createElement("button");
           this.button.style.backgroundColor = color;
           this.button.style.width = width;
           this.button.style.height = height;
           this.button.style.position = "absolute";
           document.body.appendChild(this.button);
           this.setLocation = function (top, left) {
               this.button.style.top = top;
               this.button.style.left = left;
           }
           this.setLocation(top, left);
       }



       function buttoncolour() {
           let r = (Math.floor(Math.random() * 255))
           let g = (Math.floor(Math.random() * 255))
           let b = (Math.floor(Math.random() * 255))
           let rgb = 'rgb(' + r + ',' + g + ',' + b + ')'
           return rgb
       }



       function randomlocation() {
           for (let i = 0; i < userinput; i++) {
               setInterval(function () {
                   buttonarray[i].setLocation(
                       Math.floor(Math.random() * (height - 60)) + "px",
                       Math.floor(Math.random() * (width - 120)) + "px");
               }, 2000);
           }
       }



       function onclickgo() {
           let x = document.getElementById('input').value;
           userinput=parseInt(x);
           if (userinput >= 5 && userinput <= 100) {
               for (let i = 0; i < userinput; i++) {
                   buttonarray.push(new button(buttoncolour(), "120px", "60px", Math.random() * (height - 60) + 'px', Math.random() * (width - 120) + 'px', i))
                   document.getElementById('go').onclick = null;
               }
               randomlocation()
           }
           else {
               document.getElementById('errormessage').innerHTML = 'Input should be numbers between 5 - 100.'
           }
       }



       document.getElementById('go').onclick = onclickgo;


       
   </script>
</body>
</html>